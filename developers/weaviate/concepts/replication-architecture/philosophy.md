---
image: og/docs/concepts.jpg
sidebar_position: 2
title: Philosophy
---

import Badges from '/_includes/badges.mdx';

<Badges/>

## 以我们的用户使用Weaviate为模型的设计

Weaviate的复制系统的架构是根据用户通常使用Weaviate的方式建模的。Weaviate提供站点搜索、推荐、知识提取和其他信息检索功能。这些功能都有一些共同点：
* 它们通常是**非常大规模的**（数据集可能达到数十亿个对象和向量）
* 它们通常需要**具有严格延迟要求的大规模并行使用**（即高吞吐量与低p99延迟）
* 这个服务的**高可用性**和对于非计划性故障或计划性维护（如版本升级）的弹性是至关重要的。
* 即使数据暂时不同步，只要**最终达到一致性**，通常是可以容忍的。
* 如果用例中存在事务性数据，Weaviate有时会与强一致性的事务性数据库一起使用。在将Weaviate用作主要数据库的情况下，数据通常不具备事务性。
* Weaviate的用户在使用云原生技术方面拥有丰富的经验，包括NoSQL数据库，并且知道如何正确构建应用程序以处理最终一致性系统。

根据上述的使用模式，并且考虑到[CAP定理](./index.md#cap-theorem)的权衡，Weaviate的复制架构**更偏向于可用性而非一致性**。然而，个别请求可能对一致性有更严格的要求。针对这些情况，Weaviate提供了可调整的读写一致性。

## 无领导架构的原因

Weaviate的复制架构受到其他现代的、面向相似目标的互联网规模数据库的启发；[Apache Cassandra](https://cassandra.apache.org/_/index.html)就是一个显著的例子。Weaviate的[复制架构](./cluster-architecture.md)与Cassandra有很多相似之处。毫不奇怪，选择了无领导模式来实现可用性和吞吐量目标。在有领导者的设置中，领导节点有两个重要的缺点：首先，领导者成为性能瓶颈，例如，因为每个写请求都需要通过领导者。其次，领导者的故障涉及选举新领导者，这可能是一个复杂和昂贵的过程，可能导致临时不可用。领导者系统的主要优点是它可能更容易提供特定的一致性保证。正如上面的动机所概述的，Weaviate更喜欢大规模的用例、线性扩展和可用性，而不是严格的一致性。

## 渐进式发布

与其他许多Weaviate功能一样，复制功能也是分阶段推出的。这并不意味着第一个带有复制功能的版本是不完整的。相反，这意味着复制是一个伞形术语，它伴随着许多功能一起工作，以实现复制的各种目标。其中最重要的功能包含在第一个版本（v1.17）中，但有些功能可能仅在随后的版本中（如v1.18和v1.19）中提供。

这种分阶段推出的动机有两个方面。首先，不是每个人的需求都相同，第一个版本中包含的功能集对于许多用例来说已经足够。您可以使用[复制路线图](./index.md#roadmap)部分来做出明智的决策。其次，您的反馈和了解您的需求对于指导未来功能的发布非常有价值。通过早期和频繁的发布，我们可以减少获取有价值反馈的时间。

## 更多资源

import DocsMoreResources from '/_includes/more-resources-docs.md';

<DocsMoreResources />