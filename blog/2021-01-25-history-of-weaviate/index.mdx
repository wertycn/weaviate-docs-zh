---
authors:
- bob
date: 2021-01-25
description: Weaviate is an open-source vector database with a build-in NLP model
  called the Contextionary. Learn what makes Weaviate unique.
image: ./img/hero.png
layout: post
slug: history-of-weaviate
tags:
- concepts
title: The History of Weaviate
---

![Weaviate的历史](./img/hero.png)

<!-- 省略 -->

在这篇文章中，我想分享一下Weaviate的历史，以及这个概念是如何诞生的，以及我们在不久的将来将走向何方。

## 自然语言处理的奇妙世界
在2015年初的某个时候，我通过一篇文章了解到了词嵌入的概念，这篇文章介绍了一个将单词转化为嵌入向量的机器学习算法，称为[GloVe](https://nlp.stanford.edu/projects/glove/)。

### 嵌入向量的示例

```txt
squarepants 0.27442 -0.25977 -0.17438 0.18573 0.6309 0.77326 -0.50925 -1.8926
0.72604 0.54436 -0.2705 1.1534 0.20972 1.2629 1.2796 -0.12663 0.58185 0.4805
-0.51054 0.026454 0.20253 0.32844 0.72568 1.23 0.90203 1.1607 -0.39605 0.80305
0.16373 0.053425 -0.65308 1.0607 -0.29405 0.42172 -0.45183 0.57945 0.20217
-1.3342 -0.71227 -0.6081 -0.3061 0.96214 -1.1097 -0.6499 -1.1147 0.4808 0.29857
-0.30444 1.3929 0.088861
```

如果你对词嵌入的世界还不太了解，可以用一个超市的比喻来理解它们。超市本身是一个空间，产品根据它们所属的类别进行存放。在超市里，你可以通过将购物车移到水果区的正确坐标来找到一个苹果，当你四处看看时，你会发现类似的产品，比如橙子、酸橙、香蕉等等，你也知道靠近你的会是黄瓜而不是洗衣粉。


这与词嵌入的结构方式相同。所有的坐标组合在一起代表一个多维超空间（通常是300维），具有相似含义的单词彼此之间更密切相关，就像商店中的类似产品。

能够在空间中表示单词给予了您超能力，因为它使您能够使用语言进行计算！不再需要创建算法来理解语言，现在只需要简单地查找空间中的附近内容。

## 如何语义化存储数据对象
在日常的软件项目中工作时，我注意到最常见的挑战之一是命名和搜索。我们应该如何称呼某些对象，以及如何找到以不同方式结构化的数据？我对语义网络产生了浓厚的兴趣，但我看到的挑战是需要让人们就命名约定和标准达成一致。

这让我想到了，如果我们不再需要就此达成一致会怎样？如果我们可以只存储数据，让机器自动推断数据所代表的概念呢？

概念的验证分为三个主要部分，逐一进行验证。

1. 通过在超空间中移动，能否获取更多单词的上下文？如果可以；
2. 通过计算一组单词的质心（例如，“上周的寿司谢谢你”），能否保持语义意义？如果可以；
1. 在不重新训练机器学习模型的情况下，是否可以快速完成这个操作？

寻找一个词的更多上下文与一个叫做消除歧义的概念有关。以单词“苹果”为例，在超空间中，如果你寻找该词附近的其他词，你会发现与水果苹果相关的词（例如其他水果、果汁等），但也会找到与苹果公司相关的词（iPhone、Macintosh以及与该公司相关的其他概念）。

为了验证我们是否能够消除“apple”一词的歧义，我们采取了以下简单的步骤。如果我们寻找位于“apple”和“fruit”之间空格附近的所有单词会怎么样？结果证明这样的结果要好得多！我们可以通过在超空间中移动并使用单词作为导航标记来消除歧义。

![向量空间](./img/vector-space.jpeg)

在下一步中，我们的目标是验证在使用各个单词作为信标计算质心时，我们是否能够在超空间中保持语义含义。我们通过以下方式实现了这一目标，即使用这篇Vogue文章的标题：“Louis Vuitton's New Capsule with League of Legends Brings French High Fashion to Online Gaming — and Vice Versa”。

如果我们查找每个单词（Louis、Vuitton、new、capsule等）的向量位置，并将一个新的信标放置在这些向量位置的中心，我们是否可以通过搜索"高级定制"来找到这篇文章？这样做的效果也是可以的！当然，随着时间的推移，Weaviate中的质心计算算法变得更加复杂，但整体概念仍然相同。

> 通过验证上述两个假设，我们知道我们几乎可以立即将数据对象存储在语义空间中，而不是传统的行列结构或图形中。这使我们能够根据数据的含义对其进行索引。

尽管我们已经验证了语义概念的假设，但仅此还不足以创建一个真正的语义搜索引擎。Weaviate还需要一个数据模型来表示这些结果。

## 事物而非字符串
在2017年9月，我写了一篇关于物联网和语义网之间重叠的[博客文章](https://medium.com/bob-van-luijt/semantic-internet-of-things-42811e1ca7a7)。物联网专注于物理对象（即“物”），而语义网专注于映射表示某物的数据对象（产品、交易、汽车、人等），在最高层次的抽象中，它们也是“物”。

我写这篇文章是因为在2016年1月，我作为Google Developer Expert计划的一部分，受邀前往旧金山参加Ubiquity Conference。这是一次会议，当时Google的Weave和Brillo被向公众介绍。

Weave是围绕Brillo构建的云应用程序，但它引起了我的兴趣，因为它专注于“物体”，以及如何定义它们以及围绕它们执行的操作。最初的Weaviate版本正是专注于这一点：“除了物联网设备，是否还可以使用Weave来定义其他事物，例如交易、汽车或其他任何事物？”。2017年，Google停用了Weave，并将Brillo更名为Android Things，但Weaviate的概念保留下来。

从一开始，我就知道Weaviate中的"事物"应该以图形格式相互连接，因为我希望能够尽可能简单明了地表示数据对象之间的关系，而不是以扁平的基于行的信息形式。

> 这个搜索过程导致了使用schema.org的RDF结构，这成为了如何表示Weaviate的数据对象的灵感来源。

Weaviate并不是严格意义上的基于RDF或schema.org的，但是肯定受到了它们的启发。采用这种方法最重要的优点之一是我们可以使用GraphQL（这是一种由Facebook开源的图查询语言）来表示Weaviate内部的数据。

借助数据对象的实时矢量化概念以及在GraphQL中使用类似RDF的表示形式来表示Weaviate对象，Weaviate已经具备了将其转化为当前的搜索图的所有要素。

## Weaviate搜索图的诞生
到2018年底，我将Weaviate引入了荷兰的一个创业加速器计划。在那里，我有时间组建一个团队来帮助将软件投入生产，并在这个开源项目周围建立商业模式（这个创业公司被命名为SeMI Technologies，即语义机器洞察）。

当团队开始时，Weaviate更像是一个传统的图形，其中语义（NLP）元素是一个功能而不是核心架构。但是当我们开始了解到开箱即用的语义搜索有多么强大，以及嵌入向量在日常软件开发中的作用（即很多机器学习模型的输出是嵌入向量），团队决定加强NLP部分和向量存储，创建一个独特的开源项目，可以用作语义搜索引擎。Weaviate搜索图应运而生。

## 今天人们如何使用它

开源社区和软件用户最酷的事情之一就是看到人们如何使用它以及在实现过程中出现的趋势。Weaviate的核心功能是语义搜索和语义分类，它们在各种方式和行业中被广泛使用。

实现的例子包括：将发票分类到各个类别中，通过概念而不是关键词在文档中进行搜索，网站搜索，产品知识图谱等等。

## 未来展望
Weaviate将完全开源，供社区使用。团队正在壮大，加速构建Weaviate并支持用户。我们经常发布新功能，如新的向量索引和搜索管道功能，以及Weaviate云服务和Weaviate控制台。

![Weaviate控制台](./img/weaviate-console.jpeg)

## 在开源数据上听Bob的故事
想了解更多关于向量搜索的背景和生态系统的发展情况吗？[请听DataStax的Sam Ramji采访Bob van Luijt关于向量搜索和AI堆栈的内容。](https://www.datastax.com/resources/podcast/vector-search-ai-stack-more-bob-van-luijt)。

import WhatNext from '/_includes/what-next.mdx'

<WhatNext />